(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{223:function(t,e,v){"use strict";v.r(e);var a=v(4),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"构建和发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#构建和发布","aria-hidden":"true"}},[t._v("#")]),t._v(" 构建和发布")]),t._v(" "),v("h2",{attrs:{id:"构建"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#构建","aria-hidden":"true"}},[t._v("#")]),t._v(" 构建")]),t._v(" "),v("p",[t._v("当项目开发完毕，运行此命令就可以打包你的应用。")]),t._v(" "),v("div",{staticClass:"language-shell extra-class"},[v("pre",{pre:!0,attrs:{class:"language-shell"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])])]),v("p",[t._v("构建打包成功之后，会在根目录生成 "),v("code",[t._v("public")]),t._v(" 文件夹，里面就是构建打包好的文件。")]),t._v(" "),v("div",{staticClass:"tip custom-block"},[v("p",[t._v("如果不想其在 "),v("code",[t._v("public")]),t._v(" 目录输出，更改 "),v("code",[t._v("vue.config.js")]),t._v(" 中的 "),v("code",[t._v("outputDir")]),t._v(" 即可。")])]),t._v(" "),v("p",[t._v("更多自定义相关参数的设置，可参考 "),v("a",{attrs:{href:"https://cli.vuejs.org/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue CLI"),v("OutboundLink")],1)]),t._v(" "),v("h2",{attrs:{id:"发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#发布","aria-hidden":"true"}},[t._v("#")]),t._v(" 发布")]),t._v(" "),v("p",[t._v("对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 "),v("code",[t._v("public")]),t._v(" 文件夹的静态文件发布到你的 "),v("code",[t._v("cdn")]),t._v(" 或者静态服务器即可，需要注意的是其中的 "),v("code",[t._v("index.html")]),t._v(" 通常会是你后台服务的入口页面，在确定了 "),v("code",[t._v("javascript")]),t._v(" 和 "),v("code",[t._v("css")]),t._v(" 的静态路径之后可能需要改变页面的引入路径，即注意"),v("code",[t._v("index.html")]),t._v(" 和 静态资源的引用路径是否正确。")]),t._v(" "),v("div",{staticClass:"tip custom-block"},[v("p",[t._v("部署时发现资源路径不对, 只需修改 "),v("code",[t._v("vue.config.js")]),t._v(" 文件资源路径 "),v("code",[t._v("publicPath")]),t._v(" 即可。")])]),t._v(" "),v("h2",{attrs:{id:"环境变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#环境变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),v("p",[t._v("所有测试环境或者正式环境变量的配置都在 "),v("code",[t._v(".env.development")]),t._v(" 等 "),v("code",[t._v(".env.xxxx")]),t._v(" 文件中。通过调用命令的时候使用 "),v("code",[t._v("--mode xxx")]),t._v(" 来使不同的配置文件生效，"),v("code",[t._v("development")]),t._v(" 和 "),v("code",[t._v("production")]),t._v(" 默认会使用该项配置。")]),t._v(" "),v("div",{staticClass:"tip custom-block"},[v("p",[t._v("环境变量必须以 "),v("code",[t._v("VUE_APP_")]),t._v(" 为开头。如: "),v("code",[t._v("VUE_APP_API")]),t._v("、"),v("code",[t._v("VUE_APP_TITLE")]),t._v("，它们都会通过 "),v("code",[t._v("webpack.DefinePlugin")]),t._v(" 插件注入到全局。")])]),t._v(" "),v("p",[t._v("你在代码中可以通过如下方式获取:")]),t._v(" "),v("div",{staticClass:"language-javascript extra-class"},[v("pre",{pre:!0,attrs:{class:"language-javascript"}},[v("code",[t._v("console"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("VUE_APP_xxxx"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),v("h2",{attrs:{id:"构建相关"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#构建相关","aria-hidden":"true"}},[t._v("#")]),t._v(" 构建相关")]),t._v(" "),v("p",[t._v("除了一些写在 "),v("code",[t._v(".env")]),t._v(" 的环境变量之外，还有一些构建和部署相关的变量都是需要在 "),v("code",[t._v("vue.config.js")]),t._v(" 中配置的。")]),t._v(" "),v("p",[t._v("你可以通过 "),v("code",[t._v("process.env.NODE_ENV")]),t._v(" 来执行判断环境，来设置不同的参数。")]),t._v(" "),v("p",[t._v("具体代码可借鉴 "),v("code",[t._v("vue.config.js")])])])}),[],!1,null,null,null);e.default=s.exports}}]);